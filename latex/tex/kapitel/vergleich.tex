\chapter{Vergleich}

Das folgende Kapitel die drei besprochenen Entscheidungssysteme vergleichen. Der Vergleich wird sich auf die Implementierung und Performance fokussieren. Eine Implementierung wird bewertet auf die Punkte der Skalierbarkeit, Änderung und Architektur Komplexität. Der Performance Vergleich geschieht über Benchmark Tests, mit einem Fokus auf Frames Per Second (FPS) und Speicherverbrauch.

Mit der Skalierbarkeit ist die Erweiterung der Entscheidungssysteme gemeint. Eine Erweiterung passiert, wenn dem NPC neue Aktionen hinzufügt werden. Die Aktion muss dabei in das Entscheidungssystem mit ihren Komponenten und Zuständen integriert werden. Auch Änderungen einer Aktion kann zu Änderungen im Entscheidungssystemen führen. Die Erweiterung und Skalierung beansprucht Zeit. So wäre es im Vorteil, wenn das Entscheidungssystem hinsichtlich Skalierbarkeit und Änderung möglichst einfach ist. Dabei wäre es unter anderem im Vorteil, wenn die Funktionsweise möglichst einfach ist.

Bei Erweiterungen oder Änderungen von Aktionen muss das Entscheidungssystem auch getestet werden. Das Testen prüft unter anderem die Spiellogik, Performance und Speicherverbrauch. Mit Spiellogik ist gemeint, dass ein NPC korrekte Aktionen im Sinne des Spielers ausführt. Beispielsweise macht es keinen Sinn, dass der NPC den Spieler im Nahkampf angreift, obwohl der Weg zum Spieler zu weit ist und der NPC die Möglichkeit hat sein Waffe zu benutzen. Das Testen kann je nach Entscheidungssystem unterschiedlich komplex und Zeit benötigen. Ein möglichst einfaches Nachvollziehen der Entscheidungen des Entscheidungssystem wäre dabei im Vorteil und variiert nach Entscheidungssystem. 

Auch die Implementation eines Entscheidungssystems wird bewertet. Die Entscheidungssysteme sind in ihrer Funktionsweise und Architektur unterschiedlich komplex. Die Funktionsweise und Architektur sollte bei einem Entscheidungssystem für den Entwickler möglichst nachvollziehbar sein. Eine möglichst simple Umsetzung wäre dabei im Vorteil, um Zeit zu sparen.

Über Benchmarks soll festgestellt werden, wie sich die Entscheidungssysteme hinsichtlich Performance und Speicherverbrauch unterscheiden. So wäre ein möglichst effizientes Entscheidungssystem im Vorteil und spiegelt sich im Videospiel wieder. Eine gute Performance und guter Speicherverbrauch ist im Vorteil für den Konsumenten und Entwickler. Bei einem effizienten Videospiel benötigt der Konsument keine teure Hardware und erhält ein flüssigeres Spielerlebnis, was wiederum für positive Wertungen führt. Somit hat auch der Entwickler einen Vorteil, da sein Videospiel durch die Wertung Aufmerksamkeit bekommt, was wiederum zu Käufen des Videospieles führen kann.

Die Ergebnisse werden anschließend anhand einer Tabelle zusammengefasst.

\section{FSM}

Die FSM kann bei komplexen Videospielen unübersichtlich werden. So hatte das Spiel Half-Life (1998) ca. 80 so genannte Tasks, welche alle einem Zustand zugewiesen sind. Die FSM ist schwer skalierbar. Ändert man Aktionen oder möchte man neue Aktionen hinzufügen, so muss der Graph der FSM angepasst werden. Dabei müssen Zustände geändert oder neue hinzugefügt werden. Diese Zustände sollen zu einer logischen Spielmechanik des NPC führen, die FSM soll Zustände korrekt wählen. Zustände und Übergänge sollten dabei vollständig definiert sein. Änderungen führen zu Zeitaufwand, da der NPC getestet werden muss. Außerdem können Leistungsprobleme auftreten, insbesondere bei einer übermäßigen Anzahl von Zuständen.\autocite{U2023}

Eine Finite State Machine (FSM) wird häufig für einfache NPC-Logiken empfohlen, da ihr Design, die Implementierung, Visualisierung und das Debuggen vergleichsweise einfach sind. Doch mit der größe des Spieles steigt der Aufwand die FSM umzusetzen, da sie viel zu unflexibel und undynamisch ist.\autocite{review_game_ai} Im Punkt der Skalierbarkeit ist sie GOAP unterlegen.\autocite{Schwab2021}


%So besitzt \textit{Half-Life (1998)} X Zustände, welche über eine HFSM übersichtlicher wären.
%\autocite{U2023}

%Diese Einschränkungen führten dazu, dass die Spieleindustrie nach alternativen Methoden für die Entscheidungsfindung von NPCs suchte. Ein Beispiel hierfür ist GOAP von Jeff Orkin, welches einen neuen Ansatz durch einen Suchalgorithmus entwickelte.


%- With recent technological developments, FSMs, DTs and BTs for managing decisions of NPCs are deficient in some situations, such as bad performance on overgrown tree structures, repeating mistakes without learning, and selecting the same decisions without being adaptive to different conditions creating the need for more believable character management methods

\section{BT}
\autocite{review_game_ai}:
BTs are more flexible to design and easier to test due to the modular design concept, which promotes its successful application in games such asHalo 2 and Bioshock. 

\section{GOAP}

%GOAP
\autocite{Schwab2021}:
 - GOAP system in not ideal though. First of all, it is resource-heavy thus it is impossible to reliably implement full-scale system on mobile platform (as of 2018 at least). Additionally, it is really hard to predict possible queue of actions which makes it hard to debug and a challenge to assign satisfying costs to every action.
 - FSM is most definitely not a viable alternative to GOAP. As stated in 1, its maintenance in ever-changing game development environment is too much of a hassle with complicated AI behavior. It is however the perfect solution for small projects because of it simplicity.
- BT is not perfect solution for more complicated AIs though. Developers need to spend a lot of time to create appropriate conditional nodes and link them with correct behaviors.

\begin{figure}[h]
  \centering
  \includegraphics[width=16cm]{Vergleich/avg_fps}
	\captionsetup{justification=justified, format=plain}
  \caption{FPS-Performance Benchmark}
  \label{FPS-Performance Benchmark}
\end{figure}
