\lstdefinelanguage{Pseudo}{
	keywords={KLASSE, IMPORTIERE, OEFFENTLICH FUNKTION, ENDE, void},
	morecomment=[l]{//}
}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstset{style=mystyle}

\chapter{Videospielentwicklung}

% Fortsetzen, Umschreiben

Jedes Videospiel hat seine eigenen Regeln, die der jeweilige Entwickler über eine bestimmte Programmiersprache entwickelt. So wurde beispielsweise das Arcade-Videospiel „Marble Madness“ (1984) vom Entwicklerstudio Atari Games in C programmiert. Zuvor programmierte Atari Games ihre Spiele in Assemblersprache. Die heutigen Spielwelten werden von Entwicklern mithilfe einer Game-Engine entwickelt.


\section{Game-Engines}

%1
%Mit dem Wachstum der Komplexität und Kosten von Videospielen entstanden Game-Engines. Eine Game-Engine ist eine Entwicklungsumgebung, in der Videospiele programmiert und zusammengestellt werden. Zu Beginn wurden Game-Engines zwar für bestimmte Videospiele geschrieben, wurden dann aber für ähnliche Videospiele weiterverwendet. 
%
%Allerdings wurden sie 

Mit dem Wachstum der Komplexität und Kosten von Videospielen entstanden Game-Engines. Eine Game-Engine ist eine Entwicklungsumgebung, in der Videospiele programmiert und zusammengestellt werden. 

Zum Zeitpunkt ihrer Entstehung wurden Game-Engines zwar nur für konkrete Videospiel-Serien geschrieben. So hat das Entwicklerstudio id Software ihre Videospiel-Serie Commander Keen (1990) als Game-Engine programmiert, was die Entwicklungszeit weiterer Commander Keen Spiele verkürzte. Die Game-Engine wurde auch für andere Entwicklerstudios lizensiert, die ähnliche Videospiele wie Commander Keen entwickelten. Eine weitere bekanntere Game-Engine ist die Doom-Engine (id Tech), welche ebenfalls von id Software stammt und für das Videospiel Doom (1993) programmiert wurde. Die Doom-Engine hat dabei ein minimalistisches Maß an Programmierbarkeit geboten. Benutzer konnten in der Game-Engine Daten in einem vorgegebenen Format hinzufügen. Die daraus entstandenen Spielwelten hatten dabei andere Layouts spielten sich aber wie Doom.

Heutzutage sind Game-Engines aber auch ein Sofware-Programm mit einer Kollektion an Modulen, die der Entwickler zur Entwicklung verschiedener Videospiel-Genres nutzt. Die Größe der Game-Engine variiert nach der Anzahl an Funktionen, die durch bestimmte Module umgesetzt werden. Typische Funktionen sind das Rendern von Grafiken, die Verarbeitung von Eingaben über Eingabegeräte, Umsetzung von Physik und Kollisionen, Audio-Ausgabe und Netzwerk-Funktionen, die das Spielen mit anderen Spielern umsetzen. Zudem kann eine Game-Engine software development kits (SDKs) integrieren, die weitere Funktionen hinzufügen oder bereits bestehende Funktionen erweitern. Ein Beispiel für eine SDK ist Havok, die eine realistische Physik und Kollision umsetzt.

Game-Engines können für Entwickler entweder zugänglich oder unzugänglich sein. So entwickelte beispielsweise das deutsche Entwicklerstudio Crytek die Cryengine, die für andere Entwickler über Lizenzen zugänglich ist. Demgegenüber hat das Entwicklerstudio Dice mit der Frostbite Engine eine unzugängliche Game-Engine entwickelt. Die Entwicklung einer eigenen Game-Engine bei Indie-Entwicklerstudios ist schwer umsetzbar. Denn sie haben weniger Arbeitskräfte als große Entwicklerstudios und entwickeln Videospiele ohne finanzielle Unterstützung größerer Unternehmen. Dadurch sind Indiestudios von möglichst kostengünstigen sowie zugänglichen Game-Engines abhängig. Unter zugängliche Game-Engines fallen unter anderem Unity, Unreal-Engine, Cry-Engine, RPGMaker, GameMaker und Godot.

Die Wahl oder Entwicklung einer bestimmten Game-Engine hängt von dem jeweiligen Genre und spezifischen Anforderungen des zu entwickelnden Videospiels ab. Einige Game-Engines konzentrieren sich auf ein spezifisches Genre. So konzentriert sich die idTech-Engine auf Shooter. Während sich beispielsweise die RPGMaker-Engine auf das Genre der Rollenspiele spezialisiert, liegt der Fokus der Unreal-Engine auf der Entwicklung grafisch realistischer 3D-Videospiele.

%Programmiersprache erläutern

\subsection{Godot}
Die Game-Engine Godot ist seit 2014 in Entwicklung und open-source unter der MIT license verfügbar. Sie ermöglicht die Entwicklung von Videospielen in 2D und 3D Umgebung. Bei Godot liegt der Fokus offiziell auf Desktop- und Mobile-Builds.\footnote{https://github.com/godotengine}

Die primäre Programmiersprache in Godot ist GDScript, die explizit für Godot entwickelt wurde und der Programmiersprache Python syntaktisch ähnlich ist. Auch die Programmiersprache C# wird von Godot unterstützt. Darüber hinaus werden die Programmiersprachen D, Kotlin, Nim, Python und Rust bereits durch die Community über das GDNative System unterstützt. Offiziell fördert Godot über GDNative auch C und C++.\footnote{https://docs.godotengine.org/en/3.5/tutorials/scripting/gdnative/what_is_gdnative.html}

\subsection{Unity}
%Abo Satz erweitern?
Die Unity ist eine weitere Game-Engine, die 2005 veröffentlicht wurde. Aktuell ist sie in einer kostenlosen Version erhältlich, ergänzt durch verschiedene kostenpflichtige Abonnements für erweiterte Funktionen.\footnote{https://unity.com/de/products/compare-plans} Wie auch Godot ermöglicht Unity die Entwicklung von Videospielen in 2D und 3D. Unity unterstützt die Entwicklung von Videospielen für Desktop-, Mobile, Konsolen- und Virtual-Reality-Plattformen.

Unitys primäre Programmiersprache ist C#. Unity unterstützt auch visuelle Programmierlösungen wie Bolt, durch die wenig oder gar nicht programmieren werden muss.\footnote{https://docs.unity3d.com/2019.3/Documentation/Manual/VisualScripting.html}

\subsection{Unreal-Engine}

Die Unreal-Engine wurde mit dem FPS Unreal 1998 veröffentlicht und von Epic Games entwickelt. Die Unreal-Engine ist kostenlos erhältlich. Dabei fallen Lizenzgebühren von 5\%erst ab einem Bruttoproduktumsatz von 1 Million USD an.\footnote{https://www.unrealengine.com/de/license} Durch die Game-Engine ist es möglich, Videospiele in 2D und 3D Umgebung zu entwickeln. Sie fokussiert sich dabei auf die 3D Umgebung und 3D Grafik und ist vielseitig portabel, unter anderem auf Desktop-, Mobile, Konsolen- und Virtual-Reality-Plattformen. 
%Editor weiter erläutern
Primär wird C++ als Programmiersprache genutzt. Python ist ausschließlich für die Werkzeuge im Editor vorgesehen und kann nicht für die Spiellogik verwendet werden.\footnote{https://dev.epicgames.com/documentation/en-us/unreal-engine/unreal-engine-programming-and-scripting}


\section{Entwicklung eines GameObjects}

GameObjects sind Objekte der Spielwelt und werden über ihre Komponenten gesteuert. Eine Komponente kann einem GameObject beispielsweise die Funktion geben, die Spielumgebung wahrzunehmen und mit ihr zu interagieren. Eine Komponente wird über Skripte realisiert. Game-Engines wie Godot, Unity und Unreal-Engine setzen bereits vordefinierte Komponenten mit ihren eigenen Methoden um. Meistens sind Komponenten in ihrer Funktion zu simpel, sodass ihre Skripte modifiziert oder erweitert werden müssen. Diese Skripte werden mit einer Programmiersprache angepasst, die, je nach Game-Engine, variieren kann.

Die folgende Abbildung veranschaulicht den grundlegenden Aufbau eines solchen Skripts in Pseudocode.

\begin{lstlisting}[language=Pseudo, caption={Aufbau eines Komponenten Skripts}]
IMPORTIERE Game-Engine Module

KLASSE Komponente

	//Deklaration und Initialisierung von Variablen
	
	FUNKTION ready() :void
		//Fuer die Initialisierung genutzt
	ENDE ready()

	FUNKTION update() :void
		//Wird jedes Frame aufgerufen
	ENDE ready()
	
	//Weitere Funktionen

ENDE KLASSE Komponente

\end{lstlisting}

\section{Game-AI}

Ein GameObject kann unter anderem ein Agent der Spielwelt sein und wird in diesem Fall als Non-Player Character (NPC) bezeichnet. Im Gegensatz zu der Spielfigur werden NPCs von dem Computer gesteuert. Die Aufgabe der NPCs ist es, die Spielwelt immersiver zu gestalten. Dafür nutzen Spieleentwickler akademische Forschungen aus dem Bereich der AI, um solche Algorithmen zu entwickeln, die NPCs der Spielwelt ein menschlicheres oder tierischeres Verhalten verleihen. Je nach Narrativ können NPCs mit der Spielfigur freundlich, neutral oder feindlich interagieren. Ein Beispiel für feindliche NPCs sind die Geister in Pac-Man. Darin versuchen sie, die Spielfigur in der Spielwelt zu fangen.

Die Game-AI wird über Komponenten\ref{} realisiert und lässt sich in drei Bereiche unterteilen: Bewegung (\textit{Movement}), Entscheidungsfindung (\textit{Decision making}) und Strategie (\textit{Strategy}). Während Bewegung und Entscheidungsfindung sich auf einzelne NPCs beziehen, wird die Strategie-AI auf Gruppen von NPCs (\textit{Group AI}) angewendet. Nicht alle Videospiele benötigen alle der drei genannten Bereiche. So benötigt Schach keine Game-AI für Bewegung oder Entscheidungsfindung, sondern ausschließlich für Strategie.

Der Bereich der Bewegungs-AI arbeitet hauptsächlich mit Algorithmen, die dafür sorgen, dass ein NPC von einer Position zu der Nächsten gelangt, Hindernissen ausweicht oder den optimalen Pfad zu einem Ziel findet.

Eine Strategie-AI sorgt für die Koordination einer ganzen Gruppe von NPCs. Sie soll dabei die Entscheidungsfindung der NPCs beeinflussen. Beispielsweise hat die Strategie-AI des FPS Half-Life die feindlichen NPCs dazu gebracht, die Spielerfigur zu flankieren.

\begin{figure}[h]
  \centering
  \includegraphics[width=9cm]{Videospielentwicklung/Game AI Diagramm}
	\captionsetup{justification=justified, format=plain}
  \caption{Game-AI Model: Die Thesis fokussiert sich auf den Bereich der Entscheidungsfindung (\textit{Decisionmaking}) in grün markiert}
  \label{Game AI}
\end{figure}